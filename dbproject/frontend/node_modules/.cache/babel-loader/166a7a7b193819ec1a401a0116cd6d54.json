{"ast":null,"code":"import _classCallCheck from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/src/components/login.jsx\";\nimport React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport ls from 'local-storage';\nimport $ from 'jquery';\n\nvar SignInForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignInForm, _Component);\n\n  function SignInForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignInForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignInForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: null,\n      password: null\n    };\n    return _this;\n  }\n\n  _createClass(SignInForm, [{\n    key: \"submitLogin\",\n    value: function submitLogin(event) {\n      event.preventDefault();\n      var json_data = {\n        \"email\": this.state.email,\n        \"password\": this.state.password\n      };\n      $.ajax({\n        method: 'post',\n        url: 'http://localhost:8000/api/auth/login/',\n        data: JSON.stringify(json_data),\n        success: function success(res) {\n          ls.set('auth_token', res.auth_token);\n        },\n        error: function error(res) {\n          var errors = res.responseJSON;\n\n          for (var i = 0; i < errors.length; i++) {\n            if (errors[i].error_status === 'LOGIN_DETAILS_INVALID') {\n              alert(\"Login details invalid\");\n            }\n          } // alert(\"Unexpected error try again\");\n\n        }\n      });\n      console.log(json_data);\n    }\n  }, {\n    key: \"handleEmailChange\",\n    value: function handleEmailChange(e) {\n      this.setState({\n        email: e.target.value\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(e) {\n      this.setState({\n        password: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var logo = {\n        textAlign: 'center',\n        margin: '15px',\n        fontFamily: 'Quicksand'\n      };\n      var formStyle = {\n        marginLeft: '85px',\n        marginRight: '85px',\n        marginTop: '50px',\n        marginBottom: '20px',\n        textAlign: 'center',\n        fontFamily: 'Quicksand'\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: logo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"COMPANY NAME\"), React.createElement(\"div\", {\n        style: formStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.submitLogin.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"userEmail\",\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Input, {\n        type: \"email\",\n        name: \"email\",\n        id: \"exampleEmail\",\n        value: this.state.email,\n        onChange: this.handleEmailChange.bind(this),\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), ' ', React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"userPassword\",\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Input, {\n        type: \"password\",\n        name: \"password\",\n        id: \"examplePassword\",\n        value: this.state.password,\n        onChange: this.handlePasswordChange.bind(this),\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })), ' ', React.createElement(Button, {\n        color: \"info\",\n        style: {\n          margin: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Sign in\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Button, {\n        color: \"link\",\n        onClick: this.props.switch,\n        style: {\n          color: '#373737'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Register an account\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(Button, {\n        color: \"link\",\n        style: {\n          color: '#373737'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Reset password\"))));\n    }\n  }]);\n\n  return SignInForm;\n}(Component);\n\nexport default SignInForm;","map":{"version":3,"sources":["/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/src/components/login.jsx"],"names":["React","Component","Button","Form","FormGroup","Label","Input","ls","$","SignInForm","state","email","password","event","preventDefault","json_data","ajax","method","url","data","JSON","stringify","success","res","set","auth_token","error","errors","responseJSON","i","length","error_status","alert","console","log","e","setState","target","value","logo","textAlign","margin","fontFamily","formStyle","marginLeft","marginRight","marginTop","marginBottom","submitLogin","bind","handleEmailChange","handlePasswordChange","props","switch","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport ls from 'local-storage';\nimport $ from 'jquery'; \n\nclass SignInForm extends Component {\n\tstate = {\n\t\temail: null,\n\t\tpassword: null\n\t}\n\n\tsubmitLogin(event) {\n\t\tevent.preventDefault()\n\t\tvar json_data = {\"email\": this.state.email, \"password\": this.state.password}\n\t\t$.ajax({\n\t\t\tmethod: 'post',\n\t\t\turl: 'http://localhost:8000/api/auth/login/',\n\t\t\tdata: JSON.stringify(json_data),\n\t\t\tsuccess: res => {\n\t\t\t\tls.set('auth_token', res.auth_token)\n\t\t\t},\n\t\t\terror: res => {\n\t\t\t\tlet errors = res.responseJSON;\n\t\t\t\tfor(let i = 0; i < errors.length; i++){\n\t\t\t\t\tif (errors[i].error_status === 'LOGIN_DETAILS_INVALID') {\n\t\t\t\t\t\talert(\"Login details invalid\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// alert(\"Unexpected error try again\");\n\t\t\t}\n\t\t});\n\t\tconsole.log(json_data)\n\t}\n\n\thandleEmailChange(e) {\n\t\tthis.setState({email: e.target.value})\n\t}\n\n\thandlePasswordChange(e) {\n\t\tthis.setState({password: e.target.value})\n\t}\n\n\n  render() {\n\tlet logo = {\n\t\ttextAlign: 'center',\n\t\tmargin: '15px',\n\t\tfontFamily: 'Quicksand',\n\t}\n\tlet formStyle = {\n\t\tmarginLeft: '85px',\n\t\tmarginRight: '85px',\n\t\tmarginTop: '50px',\n\t\tmarginBottom: '20px',\n\t\ttextAlign: 'center',\n\t\tfontFamily: 'Quicksand',\n\t}\n    return (\n\t\t<div>\n\t\t\t<div style={logo}>\n\t\t\t\tCOMPANY NAME\n\t\t\t</div>\n\t\t\t<div style={formStyle}>\n\t\t\t\t<Form onSubmit = {this.submitLogin.bind(this)}>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label for=\"userEmail\" hidden>Email</Label>\n\t\t\t\t\t\t<Input type=\"email\" name=\"email\" id=\"exampleEmail\" value = {this.state.email} onChange = {this.handleEmailChange.bind(this)}placeholder=\"Email\" />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t{' '}\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label for=\"userPassword\" hidden>Password</Label>\n\t\t\t\t\t\t<Input type=\"password\" name=\"password\" id=\"examplePassword\" value = {this.state.password} onChange = {this.handlePasswordChange.bind(this)} placeholder=\"Password\" />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t{' '}\n\t\t\t\t\t<Button color=\"info\"  style={{margin:'20px'}}>Sign in</Button><br/>\n\t\t\t\t\t<Button color=\"link\" onClick={this.props.switch} style={{color: '#373737'}}>Register an account</Button><br/>\n\t\t\t\t\t<Button color=\"link\" style={{color: '#373737'}}>Reset password</Button>\n\t\t\t\t</Form>\n\t\t\t</div>\n\t\t</div>\n    );\n  }\n}\n\nexport default SignInForm;"]},"metadata":{},"sourceType":"module"}