{"ast":null,"code":"import _classCallCheck from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/src/components/applications.jsx\";\nimport React, { Component } from 'react';\nimport NavBar from './navbar';\nimport ApplicationCard from './appcard';\nimport { Card, CardBody, CardTitle, Button, FormGroup, Input, Form } from 'reactstrap';\nimport axios from 'axios';\nimport ls from 'local-storage';\nimport { runInThisContext } from 'vm';\nimport $ from 'jquery';\n\nvar Applications =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Applications, _Component);\n\n  function Applications(props) {\n    var _this;\n\n    _classCallCheck(this, Applications);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Applications).call(this));\n\n    _this.update2degree = function (value) {\n      _this.setState({\n        newvalues_degree: value\n      });\n    };\n\n    _this.update2alevels = function (value) {\n      _this.setState({\n        newvalues_alevels: value\n      });\n    };\n\n    _this.update2languages = function (value) {\n      _this.setState({\n        newvalues_languages: value\n      });\n    };\n\n    _this.update2employment = function (value) {\n      _this.setState({\n        newvalues_employment: value\n      });\n    };\n\n    _this.update2skills = function (value) {\n      _this.setState({\n        newvalues_skills: value\n      });\n    };\n\n    _this.getRadio = function (value) {\n      if (value == \"accept\") {\n        _this.setState({\n          radioValue: 2\n        });\n      } else if (value == \"test\") {\n        _this.setState({\n          radioValue: 1\n        });\n      } else {\n        _this.setState({\n          radioValue: 0\n        });\n      }\n    };\n\n    _this.handlerfordata = function (data) {\n      console.log(\"in handler\");\n    };\n\n    _this.handleData = _this.handleData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      data: [],\n      newvalues_degree: 0,\n      newvalues_alevels: 0,\n      newvalues_languages: 0,\n      newvalues_employment: 0,\n      newvalues_skills: 0,\n      repsonse: null,\n      fromChild: '',\n      radioValue: 2\n    };\n    return _this;\n  }\n\n  _createClass(Applications, [{\n    key: \"handleData\",\n    value: function handleData(data) {\n      this.setState({\n        fromChild: data\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var self = this;\n      var headers = {\n        \"AUTH-TOKEN\": \"randomtesttoken_admin_test_one@gmail.com\"\n      };\n      $.ajax({\n        url: \"http://localhost:8000/api/applications/accepted_applications/\",\n        type: 'GET',\n        success: function success(res) {\n          console.log(res.Applications);\n          var test = res.Applications;\n          self.setState({\n            \"data\": test\n          });\n        },\n        headers: headers\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(job_id, event) {\n      console.log(job_id);\n      var json = {\n        \"Degree\": this.state.newvalues_degree,\n        \"ALevels\": this.state.newvalues_alevels,\n        \"Languages\": this.state.newvalues_languages,\n        \"Employment\": this.state.newvalues_languages,\n        \"Skills\": this.state.newvalues_skills,\n        \"Response\": this.state.radioValue,\n        \"job_id\": job_id\n      }; //send to neural\n\n      event.preventDefault();\n      var json_data = {\n        \"email\": this.state.email,\n        \"password\": this.state.password\n      };\n      $.ajax({\n        method: 'post',\n        url: 'http://localhost:8000/api/applications/submit_feedback/',\n        data: JSON.stringify(json_data),\n        success: function success(res) {\n          ls.set('auth_token', res.auth_token); //saving token\n        },\n        error: function error(res) {\n          var errors = res.responseJSON.errors;\n          console.log(errors); // alert(\"Unexpected error try again\");\n        }\n      });\n      console.log(json_data);\n      event.preventDefault();\n      var data = event.target;\n      var newtest = [];\n      this.setState({\n        data: newtest\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var filter = {\n        margin: '15px',\n        marginLeft: '40px',\n        fontFamily: 'Quicksand',\n        width: '25%',\n        height: '100vh',\n        float: 'left'\n      };\n      var jobs = {\n        margin: '15px',\n        fontFamily: 'Quicksand',\n        width: '68%',\n        height: '100vh',\n        float: 'right'\n      };\n      console.log(this.state.data);\n      var application_length = this.state.data.length;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          height: '100vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: filter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Filter\")), React.createElement(\"div\", {\n        style: jobs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Applications\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, application_length, \" result(s)\"), this.state.data.map(function (t) {\n        return React.createElement(Form, {\n          onSubmit: _this2.onSubmit.bind(_this2, t.job_id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(ApplicationCard, {\n          updatedegree: _this2.update2degree,\n          updateskills: _this2.update2skills,\n          updatealevels: _this2.update2alevels,\n          updateemployment: _this2.update2employment,\n          updatelanguages: _this2.update2languages,\n          getRadioValue: _this2.getRadio,\n          values: [t.score_degree, t.score_alevels, t.score_lang, t.score_employment, t.score_skills],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"Degree\"), React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"Degree: \", t.DegreeQualification), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"Degree Level: \", t.DegreeLevel), React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"University Attended: \", t.UniversityAttended)), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \"A-Levels\"), React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, t.ALevelQualifications.map(function (x) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 160\n            },\n            __self: this\n          }, \"Subject: \", x.Subject, \". Grade: \", x.Grade);\n        })), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \"Langauges\"), React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, t.LanguagesKnown.map(function (x) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          }, \"Language: \", x.Language, \". Expertise: \", x.Expertise);\n        })), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \"Previous Employment\"), React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, t.PreviousEmployment.map(function (x) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172\n            },\n            __self: this\n          }, \"Company: \", x.Company, \". Position: \", x.Position);\n        })), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, \"Skills\"), React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, t.Skills.map(function (x) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 178\n            },\n            __self: this\n          }, \"Skill: \", x.Skill, \". Expertise: \", x.Expertise);\n        })), React.createElement(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(Button, {\n          color: \"info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"Submit\"))));\n      }))));\n    }\n  }]);\n\n  return Applications;\n}(Component);\n\nexport default Applications;","map":{"version":3,"sources":["/Users/yaggy/uni/yr2/cs261/software/dbproject/frontend/src/components/applications.jsx"],"names":["React","Component","NavBar","ApplicationCard","Card","CardBody","CardTitle","Button","FormGroup","Input","Form","axios","ls","runInThisContext","$","Applications","props","update2degree","value","setState","newvalues_degree","update2alevels","newvalues_alevels","update2languages","newvalues_languages","update2employment","newvalues_employment","update2skills","newvalues_skills","getRadio","radioValue","handlerfordata","data","console","log","handleData","bind","state","repsonse","fromChild","self","headers","ajax","url","type","success","res","test","job_id","event","json","preventDefault","json_data","email","password","method","JSON","stringify","set","auth_token","error","errors","responseJSON","target","newtest","filter","margin","marginLeft","fontFamily","width","height","float","jobs","application_length","length","map","t","onSubmit","score_degree","score_alevels","score_lang","score_employment","score_skills","DegreeQualification","DegreeLevel","UniversityAttended","ALevelQualifications","x","Subject","Grade","LanguagesKnown","Language","Expertise","PreviousEmployment","Company","Position","Skills","Skill","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport NavBar from './navbar';\nimport ApplicationCard from './appcard';\nimport { Card, CardBody, CardTitle, Button, FormGroup, Input, Form} from 'reactstrap';\nimport axios from 'axios';\nimport ls from 'local-storage'\nimport { runInThisContext } from 'vm';\nimport $ from 'jquery'; \n\nclass Applications extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.handleData = this.handleData.bind(this);\n\t\tthis.state = {\n\t\t\tdata:[], \n\t\t\tnewvalues_degree: 0,\n\t\t\tnewvalues_alevels: 0,\n\t\t\tnewvalues_languages: 0,\n\t\t\tnewvalues_employment: 0,\n\t\t\tnewvalues_skills: 0,\n\t\t\trepsonse:null,\n\t\t\tfromChild:'',\n\t\t\tradioValue: 2\n\t\t}\n\t}\n\thandleData(data) {\n\t\tthis.setState({\n\t\t\tfromChild:data\n\t\t})\n\t}\n\n\tupdate2degree = (value)=>{\n\t\tthis.setState({newvalues_degree: value})\n\t}\n\n\n\tupdate2alevels = (value)=>{\n\t\tthis.setState({newvalues_alevels: value})\n\t}\n\n\tupdate2languages = (value)=>{\n\t\tthis.setState({newvalues_languages: value})\n\t}\n\n\tupdate2employment = (value)=>{\n\t\tthis.setState({newvalues_employment: value})\n\t}\n\n\tupdate2skills = (value)=>{\n\t\tthis.setState({newvalues_skills: value})\n\t}\n\n\tgetRadio = (value)=>{\n\t\tif (value ==\"accept\") {\n\t\t\tthis.setState({radioValue: 2})\n\t\t} else if (value == \"test\") {\n\t\t\tthis.setState({radioValue: 1})\n\t\t} else {\n\t\t\tthis.setState({radioValue: 0})\n\t\t}\n\n\t}\n\n\tcomponentDidMount() {\n\t\tvar self = this;\n\t\tlet headers = {\n\t\t\t\"AUTH-TOKEN\": \"randomtesttoken_admin_test_one@gmail.com\"\n\t\t};\n\t\t$.ajax({\n\t\t\turl: \"http://localhost:8000/api/applications/accepted_applications/\",\n\t\t\ttype: 'GET',\n\t\t\tsuccess: res => {\n\t\t\t\tconsole.log(res.Applications);\n\t\t\t\tvar test = res.Applications;\n\t\t\t\tself.setState({ \"data\": test });\n\t\t\t},\n\t\t\theaders: headers\n\t\t});\n\n\t}\n\n\tonSubmit(job_id, event) {\n\t\tconsole.log(job_id)\n\t\tvar json = {\"Degree\": this.state.newvalues_degree, \"ALevels\": this.state.newvalues_alevels, \"Languages\": this.state.newvalues_languages, \"Employment\": this.state.newvalues_languages, \"Skills\": this.state.newvalues_skills, \"Response\": this.state.radioValue, \"job_id\": job_id};\n\t\t//send to neural\n\t\tevent.preventDefault()\n\t\tvar json_data = { \"email\": this.state.email, \"password\": this.state.password }\n\t\t$.ajax({\n\t\t\tmethod: 'post',\n\t\t\turl: 'http://localhost:8000/api/applications/submit_feedback/',\n\t\t\tdata: JSON.stringify(json_data),\n\t\t\tsuccess: res => {\n\t\t\t\tls.set('auth_token', res.auth_token) //saving token\n\t\t\t},\n\t\t\terror: res => {\n\t\t\t\tlet errors = res.responseJSON.errors;\n\t\t\t\tconsole.log(errors);\n\n\t\t\t\t// alert(\"Unexpected error try again\");\n\t\t\t}\n\t\t});\n\t\tconsole.log(json_data)\n\t\tevent.preventDefault();\n\t\n\t\n\t\tconst data = event.target;\n\n\t\tconst newtest = [];\n\t\tthis.setState({data:newtest})\n\t}\n\n\thandlerfordata=(data)=>{\n\t\tconsole.log(\"in handler\")\n\t}\n\n\n\trender() {\n\t\tlet filter = {\n\t\t\tmargin: '15px',\n\t\t\tmarginLeft: '40px',\n\t\t\tfontFamily: 'Quicksand',\n\t\t\twidth: '25%',\n\t\t\theight: '100vh',\n\t\t\tfloat: 'left',\n\t\t}\n\t\tlet jobs = {\n\t\t\tmargin: '15px',\n\t\t\tfontFamily: 'Quicksand',\n\t\t\twidth: '68%',\n\t\t\theight: '100vh',\n\t\t\tfloat: 'right',\n\t\t}\n\n\t\tconsole.log(this.state.data)\n\t\tconst application_length = this.state.data.length;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<NavBar />\n\t\t\t\t<div style={{height: '100vh'}}>\n\t\t\t\t\t<div style={filter}>\n\t\t\t\t\t\t<h5>Filter</h5>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={jobs}>\n\t\t\t\t\t\t<h4>Applications</h4>\n\t\t\t\t\t\t<p>{application_length} result(s)</p>\n\t\t\t\t\t\t{this.state.data.map(t =>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<Form onSubmit = {this.onSubmit.bind(this, t.job_id)}>\n\t\t\t\t\t\t<ApplicationCard updatedegree={this.update2degree} updateskills={this.update2skills} updatealevels={this.update2alevels} updateemployment={this.update2employment} updatelanguages = {this.update2languages} getRadioValue = {this.getRadio} values = {[t.score_degree, t.score_alevels, t.score_lang, t.score_employment, t.score_skills]}>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<h6>Degree</h6>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>Degree: {t.DegreeQualification}</li>\n\t\t\t\t\t\t\t\t<li>Degree Level: {t.DegreeLevel}</li>\n\t\t\t\t\t\t\t\t<li>University Attended: {t.UniversityAttended}</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<h6>A-Levels</h6>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{t.ALevelQualifications.map(x=>\n\t\t\t\t\t\t\t\t<li>Subject: {x.Subject}. Grade: {x.Grade}</li>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<h6>Langauges</h6>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{t.LanguagesKnown.map(x=>\n\t\t\t\t\t\t\t\t<li>Language: {x.Language}. Expertise: {x.Expertise}</li>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<h6>Previous Employment</h6>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{t.PreviousEmployment.map(x=>\n\t\t\t\t\t\t\t\t<li>Company: {x.Company}. Position: {x.Position}</li>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<h6>Skills</h6>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{t.Skills.map(x=>\n\t\t\t\t\t\t\t\t<li>Skill: {x.Skill}. Expertise: {x.Expertise}</li>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<div style={{textAlign: 'center'}}>\n\t\t\t\t\t\t<Button color=\"info\">Submit</Button>\n\t\t\t\t\t\t</div>\t\t\t\n\t\t\t\t\t\t</ApplicationCard>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Applications;\n"]},"metadata":{},"sourceType":"module"}